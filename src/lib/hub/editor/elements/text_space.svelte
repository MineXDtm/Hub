<script lang="ts">
    import text from "$lib/hub/editor/elements/text_space.svelte";
    import { target } from "$lib/hub/editor.js";
    export var X = 0;
    export var Y = 0;
    export var dragged = false;
    function is_dragged(event : any) {
        
        if (dragged) return;
        document.getSelection().removeAllRanges();
        const component = new text({
            target: document.body,
            props: { X: event.clientX, Y: event.clientY, dragged: true },
        });
        target.set("text_space");
        document.addEventListener("touchend", () => {
            component.$destroy();
            target.set(null);
        });
    }
    function mouse_move(event : TouchEvent) {
 
        X = event.touches[0].clientX;
        Y = event.touches[0].clientY;
    }
    if (dragged) {
        
        document.addEventListener("touchmove", mouse_move);
    }
</script>

<div
    draggable="false" 
    alt=""
    on:touchstart={is_dragged}
    class=" transition-transform h-[45px] bg-white flex justify-center items-center rounded-md {dragged
        ? 'fixed scale-75 shadow-xl pointer-events-none select-none'
        : 'active:scale-125'}"
    style="left: {dragged ? X - 50.5 + 'px' : '0'}; top: {dragged
        ? Y - 22.5 + 'px'
        : '0'};"
> 
    <svg xmlns="http://www.w3.org/2000/svg" width="101" height="45" viewBox="0 0 101 45" fill="none">
        <path d="M0.5 5C0.5 2.23858 2.73858 0 5.5 0H95.5C98.2614 0 100.5 2.23858 100.5 5V40C100.5 42.7614 98.2614 45 95.5 45H5.5C2.73858 45 0.5 42.7614 0.5 40V5Z" fill="white"/>
        <path d="M81.3932 14.1C81.5075 13.5787 82.2161 13.5787 82.3304 14.1L82.7844 16.171C82.814 16.306 82.8954 16.4223 83.0093 16.4925L84.7629 17.5725C85.079 17.7672 85.079 18.2462 84.7629 18.4409L83.0093 19.5209C82.8954 19.5911 82.814 19.7074 82.7844 19.8424L82.3304 21.9134C82.2161 22.4347 81.5075 22.4347 81.3932 21.9134L80.9392 19.8424C80.9096 19.7074 80.8282 19.5911 80.7143 19.5209L78.9607 18.4409C78.6446 18.2462 78.6446 17.7672 78.9607 17.5725L80.7143 16.4925C80.8282 16.4223 80.9096 16.306 80.9392 16.171L81.3932 14.1Z" fill="black"/>
        <path d="M81.3932 14.1C81.5075 13.5787 82.2161 13.5787 82.3304 14.1L82.7844 16.171C82.814 16.306 82.8954 16.4223 83.0093 16.4925L84.7629 17.5725C85.079 17.7672 85.079 18.2462 84.7629 18.4409L83.0093 19.5209C82.8954 19.5911 82.814 19.7074 82.7844 19.8424L82.3304 21.9134C82.2161 22.4347 81.5075 22.4347 81.3932 21.9134L80.9392 19.8424C80.9096 19.7074 80.8282 19.5911 80.7143 19.5209L78.9607 18.4409C78.6446 18.2462 78.6446 17.7672 78.9607 17.5725L80.7143 16.4925C80.8282 16.4223 80.9096 16.306 80.9392 16.171L81.3932 14.1Z" fill="url(#paint0_angular_2544_3293)"/>
        <path d="M74.4387 19.7972C74.593 19.3572 75.187 19.3572 75.3413 19.7972L76.3636 22.7121C76.4123 22.8508 76.5167 22.9602 76.6491 23.0111L79.4315 24.0821C79.8514 24.2438 79.8514 24.8661 79.4315 25.0277L76.6491 26.0987C76.5167 26.1497 76.4123 26.2591 76.3636 26.3978L75.3413 29.3127C75.187 29.7527 74.593 29.7527 74.4387 29.3127L73.4164 26.3978C73.3677 26.2591 73.2633 26.1497 73.1309 26.0987L70.3485 25.0277C69.9285 24.8661 69.9285 24.2438 70.3485 24.0821L73.1309 23.0111C73.2633 22.9602 73.3677 22.8508 73.4164 22.7121L74.4387 19.7972Z" fill="black"/>
        <path d="M74.4387 19.7972C74.593 19.3572 75.187 19.3572 75.3413 19.7972L76.3636 22.7121C76.4123 22.8508 76.5167 22.9602 76.6491 23.0111L79.4315 24.0821C79.8514 24.2438 79.8514 24.8661 79.4315 25.0277L76.6491 26.0987C76.5167 26.1497 76.4123 26.2591 76.3636 26.3978L75.3413 29.3127C75.187 29.7527 74.593 29.7527 74.4387 29.3127L73.4164 26.3978C73.3677 26.2591 73.2633 26.1497 73.1309 26.0987L70.3485 25.0277C69.9285 24.8661 69.9285 24.2438 70.3485 24.0821L73.1309 23.0111C73.2633 22.9602 73.3677 22.8508 73.4164 22.7121L74.4387 19.7972Z" fill="url(#paint1_angular_2544_3293)"/>
        <path d="M82.8118 26.7437C82.6993 26.2193 81.9859 26.2193 81.8735 26.7437L81.6771 27.6599C81.6483 27.7942 81.5683 27.9103 81.4557 27.9813L80.3835 28.6567C80.0727 28.8524 80.0727 29.3243 80.3835 29.52L81.4557 30.1954C81.5683 30.2663 81.6483 30.3825 81.6771 30.5168L81.8735 31.4329C81.9859 31.9574 82.6993 31.9574 82.8118 31.4329L83.0081 30.5168C83.0369 30.3825 83.1169 30.2663 83.2295 30.1954L84.3017 29.52C84.6125 29.3243 84.6125 28.8524 84.3017 28.6567L83.2295 27.9813C83.1169 27.9103 83.0369 27.7942 83.0081 27.6599L82.8118 26.7437Z" fill="black"/>
        <path d="M82.8118 26.7437C82.6993 26.2193 81.9859 26.2193 81.8735 26.7437L81.6771 27.6599C81.6483 27.7942 81.5683 27.9103 81.4557 27.9813L80.3835 28.6567C80.0727 28.8524 80.0727 29.3243 80.3835 29.52L81.4557 30.1954C81.5683 30.2663 81.6483 30.3825 81.6771 30.5168L81.8735 31.4329C81.9859 31.9574 82.6993 31.9574 82.8118 31.4329L83.0081 30.5168C83.0369 30.3825 83.1169 30.2663 83.2295 30.1954L84.3017 29.52C84.6125 29.3243 84.6125 28.8524 84.3017 28.6567L83.2295 27.9813C83.1169 27.9103 83.0369 27.7942 83.0081 27.6599L82.8118 26.7437Z" fill="url(#paint2_angular_2544_3293)"/>
        <path d="M24.2387 25.4569C24.2387 26.337 24.0017 27.1031 23.5279 27.7554C23.0602 28.4078 22.4017 28.8939 21.5525 29.2139C20.7032 29.5339 19.6817 29.694 18.4878 29.694C17.1031 29.694 15.8354 29.4601 14.6846 28.9924V25.3646C15.2385 25.7708 15.8508 26.1 16.5216 26.3523C17.1924 26.5985 17.817 26.7216 18.3955 26.7216C18.8324 26.7216 19.1709 26.6447 19.4109 26.4908C19.6509 26.3308 19.7709 26.1 19.7709 25.7985C19.7709 25.5831 19.7093 25.3954 19.5863 25.2354C19.4693 25.0692 19.2878 24.9154 19.0416 24.7738C18.8016 24.6323 18.3524 24.4384 17.6939 24.1923C15.5646 23.3738 14.5 22.0507 14.5 20.223C14.5 18.9429 14.9862 17.9214 15.9585 17.1583C16.9308 16.389 18.2355 16.0044 19.8724 16.0044C20.334 16.0044 20.7586 16.0229 21.1463 16.0598C21.534 16.0967 21.8848 16.1429 22.1986 16.1983C22.5186 16.2537 22.9648 16.3583 23.5371 16.5121V19.8814C22.4233 19.2722 21.3278 18.9676 20.2509 18.9676C19.8078 18.9676 19.4509 19.0506 19.1801 19.2168C18.9093 19.383 18.7739 19.6107 18.7739 19.8999C18.7739 20.1768 18.8816 20.4076 19.097 20.5922C19.3186 20.7707 19.777 21.0045 20.4724 21.2938C21.8448 21.8476 22.814 22.4538 23.3802 23.1123C23.9525 23.7707 24.2387 24.5523 24.2387 25.4569Z" fill="black"/>
        <path d="M24.2387 25.4569C24.2387 26.337 24.0017 27.1031 23.5279 27.7554C23.0602 28.4078 22.4017 28.8939 21.5525 29.2139C20.7032 29.5339 19.6817 29.694 18.4878 29.694C17.1031 29.694 15.8354 29.4601 14.6846 28.9924V25.3646C15.2385 25.7708 15.8508 26.1 16.5216 26.3523C17.1924 26.5985 17.817 26.7216 18.3955 26.7216C18.8324 26.7216 19.1709 26.6447 19.4109 26.4908C19.6509 26.3308 19.7709 26.1 19.7709 25.7985C19.7709 25.5831 19.7093 25.3954 19.5863 25.2354C19.4693 25.0692 19.2878 24.9154 19.0416 24.7738C18.8016 24.6323 18.3524 24.4384 17.6939 24.1923C15.5646 23.3738 14.5 22.0507 14.5 20.223C14.5 18.9429 14.9862 17.9214 15.9585 17.1583C16.9308 16.389 18.2355 16.0044 19.8724 16.0044C20.334 16.0044 20.7586 16.0229 21.1463 16.0598C21.534 16.0967 21.8848 16.1429 22.1986 16.1983C22.5186 16.2537 22.9648 16.3583 23.5371 16.5121V19.8814C22.4233 19.2722 21.3278 18.9676 20.2509 18.9676C19.8078 18.9676 19.4509 19.0506 19.1801 19.2168C18.9093 19.383 18.7739 19.6107 18.7739 19.8999C18.7739 20.1768 18.8816 20.4076 19.097 20.5922C19.3186 20.7707 19.777 21.0045 20.4724 21.2938C21.8448 21.8476 22.814 22.4538 23.3802 23.1123C23.9525 23.7707 24.2387 24.5523 24.2387 25.4569Z" fill="url(#paint3_angular_2544_3293)"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M36.1651 24.4508C36.1651 25.4846 35.9897 26.3985 35.6389 27.1924C35.2881 27.9862 34.7928 28.6016 34.1527 29.0386C33.5127 29.4755 32.7927 29.694 31.9927 29.694C30.885 29.694 30.045 29.2909 29.4726 28.4847H29.4357V33.811H25.5033V20.0107H29.4357V21.2938H29.4726C29.7865 20.8199 30.1927 20.4507 30.6911 20.1861C31.1896 19.9153 31.7558 19.7799 32.3896 19.7799C33.6081 19.7799 34.5404 20.186 35.1866 20.9984C35.8389 21.8107 36.1651 22.9615 36.1651 24.4508ZM32.1773 24.5708C32.1773 23.9738 32.0604 23.5061 31.8265 23.1677C31.5988 22.8292 31.245 22.66 30.765 22.66C30.3465 22.66 30.008 22.8384 29.7496 23.1953C29.4911 23.5523 29.3619 24.0415 29.3619 24.6631V24.8477C29.3619 25.4446 29.4726 25.9216 29.6942 26.2785C29.9157 26.6354 30.248 26.8139 30.6911 26.8139C31.165 26.8139 31.5311 26.62 31.7896 26.2323C32.0481 25.8385 32.1773 25.2846 32.1773 24.5708Z" fill="black"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M36.1651 24.4508C36.1651 25.4846 35.9897 26.3985 35.6389 27.1924C35.2881 27.9862 34.7928 28.6016 34.1527 29.0386C33.5127 29.4755 32.7927 29.694 31.9927 29.694C30.885 29.694 30.045 29.2909 29.4726 28.4847H29.4357V33.811H25.5033V20.0107H29.4357V21.2938H29.4726C29.7865 20.8199 30.1927 20.4507 30.6911 20.1861C31.1896 19.9153 31.7558 19.7799 32.3896 19.7799C33.6081 19.7799 34.5404 20.186 35.1866 20.9984C35.8389 21.8107 36.1651 22.9615 36.1651 24.4508ZM32.1773 24.5708C32.1773 23.9738 32.0604 23.5061 31.8265 23.1677C31.5988 22.8292 31.245 22.66 30.765 22.66C30.3465 22.66 30.008 22.8384 29.7496 23.1953C29.4911 23.5523 29.3619 24.0415 29.3619 24.6631V24.8477C29.3619 25.4446 29.4726 25.9216 29.6942 26.2785C29.9157 26.6354 30.248 26.8139 30.6911 26.8139C31.165 26.8139 31.5311 26.62 31.7896 26.2323C32.0481 25.8385 32.1773 25.2846 32.1773 24.5708Z" fill="url(#paint4_angular_2544_3293)"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M42.8945 28.0231V29.4632H46.4853V24.2477C46.4853 22.6415 46.1222 21.4968 45.3961 20.8138C44.676 20.1245 43.5129 19.7799 41.9068 19.7799C41.359 19.7799 40.7006 19.8507 39.9313 19.9922C39.1621 20.1337 38.5221 20.3153 38.0113 20.5368V23.0938C39.1867 22.4907 40.3036 22.1892 41.3621 22.1892C41.8298 22.1892 42.2021 22.2876 42.4791 22.4846C42.756 22.6815 42.8945 22.9338 42.8945 23.2415L40.5498 23.5461C38.2667 23.8415 37.1251 24.9185 37.1251 26.777C37.1251 27.6631 37.3774 28.3708 37.882 28.9001C38.3867 29.4293 39.0852 29.694 39.9775 29.694C41.2698 29.694 42.2298 29.137 42.8575 28.0231H42.8945ZM40.8083 26.8877C40.6483 26.7216 40.5683 26.5093 40.5683 26.2508C40.5683 25.74 40.9006 25.4292 41.5652 25.3185L42.8945 25.1339V25.4939C42.8945 25.9739 42.7652 26.3677 42.5068 26.6754C42.2545 26.9831 41.9221 27.137 41.5098 27.137C41.2083 27.137 40.9744 27.0539 40.8083 26.8877Z" fill="black"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M42.8945 28.0231V29.4632H46.4853V24.2477C46.4853 22.6415 46.1222 21.4968 45.3961 20.8138C44.676 20.1245 43.5129 19.7799 41.9068 19.7799C41.359 19.7799 40.7006 19.8507 39.9313 19.9922C39.1621 20.1337 38.5221 20.3153 38.0113 20.5368V23.0938C39.1867 22.4907 40.3036 22.1892 41.3621 22.1892C41.8298 22.1892 42.2021 22.2876 42.4791 22.4846C42.756 22.6815 42.8945 22.9338 42.8945 23.2415L40.5498 23.5461C38.2667 23.8415 37.1251 24.9185 37.1251 26.777C37.1251 27.6631 37.3774 28.3708 37.882 28.9001C38.3867 29.4293 39.0852 29.694 39.9775 29.694C41.2698 29.694 42.2298 29.137 42.8575 28.0231H42.8945ZM40.8083 26.8877C40.6483 26.7216 40.5683 26.5093 40.5683 26.2508C40.5683 25.74 40.9006 25.4292 41.5652 25.3185L42.8945 25.1339V25.4939C42.8945 25.9739 42.7652 26.3677 42.5068 26.6754C42.2545 26.9831 41.9221 27.137 41.5098 27.137C41.2083 27.137 40.9744 27.0539 40.8083 26.8877Z" fill="url(#paint5_angular_2544_3293)"/>
        <path d="M56.0578 29.1955C55.8055 29.3432 55.4086 29.4632 54.867 29.5555C54.3255 29.6478 53.7009 29.694 52.9931 29.694C51.9962 29.694 51.1039 29.4939 50.3162 29.0939C49.5346 28.6878 48.9284 28.1216 48.4977 27.3954C48.0669 26.6693 47.8515 25.8539 47.8515 24.9492C47.8515 23.8661 48.0792 22.94 48.5346 22.1707C48.9961 21.3953 49.6515 20.8045 50.5008 20.3984C51.35 19.986 52.3347 19.7799 53.4547 19.7799C54.0701 19.7799 54.6209 19.8199 55.107 19.8999C55.5994 19.9799 55.9163 20.0722 56.0578 20.1768V23.2415C55.8609 23.0877 55.5778 22.9523 55.2086 22.8353C54.8393 22.7184 54.4978 22.66 54.1839 22.66C53.4147 22.66 52.8301 22.8446 52.4301 23.2138C52.0362 23.5769 51.8393 24.0907 51.8393 24.7554C51.8393 25.4077 52.0331 25.9154 52.4208 26.2785C52.8147 26.6354 53.3532 26.8139 54.0363 26.8139C54.7686 26.8139 55.4424 26.6385 56.0578 26.2877V29.1955Z" fill="black"/>
        <path d="M56.0578 29.1955C55.8055 29.3432 55.4086 29.4632 54.867 29.5555C54.3255 29.6478 53.7009 29.694 52.9931 29.694C51.9962 29.694 51.1039 29.4939 50.3162 29.0939C49.5346 28.6878 48.9284 28.1216 48.4977 27.3954C48.0669 26.6693 47.8515 25.8539 47.8515 24.9492C47.8515 23.8661 48.0792 22.94 48.5346 22.1707C48.9961 21.3953 49.6515 20.8045 50.5008 20.3984C51.35 19.986 52.3347 19.7799 53.4547 19.7799C54.0701 19.7799 54.6209 19.8199 55.107 19.8999C55.5994 19.9799 55.9163 20.0722 56.0578 20.1768V23.2415C55.8609 23.0877 55.5778 22.9523 55.2086 22.8353C54.8393 22.7184 54.4978 22.66 54.1839 22.66C53.4147 22.66 52.8301 22.8446 52.4301 23.2138C52.0362 23.5769 51.8393 24.0907 51.8393 24.7554C51.8393 25.4077 52.0331 25.9154 52.4208 26.2785C52.8147 26.6354 53.3532 26.8139 54.0363 26.8139C54.7686 26.8139 55.4424 26.6385 56.0578 26.2877V29.1955Z" fill="url(#paint6_angular_2544_3293)"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M61.7164 26.8139C61.3164 26.58 61.0826 26.26 61.0149 25.8539H66.8581V24.3769C66.8581 23.4538 66.6765 22.6476 66.3134 21.9584C65.9565 21.2691 65.4303 20.7338 64.7349 20.3522C64.0395 19.9707 63.2026 19.7799 62.2241 19.7799C61.2703 19.7799 60.3964 20.0014 59.6025 20.4445C58.8148 20.8814 58.2179 21.4876 57.8117 22.263C57.4117 23.0384 57.2117 23.9338 57.2117 24.9492C57.2117 26.4262 57.6702 27.5862 58.5871 28.4293C59.5041 29.2724 60.7872 29.694 62.4364 29.694C63.7965 29.694 64.9534 29.5032 65.9073 29.1216V26.6293C65.0888 26.98 64.2211 27.1554 63.3041 27.1554C62.6457 27.1554 62.1164 27.0416 61.7164 26.8139ZM62.2057 22.1615C62.9872 22.1615 63.378 22.7061 63.378 23.7954H60.9964C61.0333 23.303 61.1626 22.9092 61.3841 22.6138C61.6056 22.3122 61.8795 22.1615 62.2057 22.1615Z" fill="black"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M61.7164 26.8139C61.3164 26.58 61.0826 26.26 61.0149 25.8539H66.8581V24.3769C66.8581 23.4538 66.6765 22.6476 66.3134 21.9584C65.9565 21.2691 65.4303 20.7338 64.7349 20.3522C64.0395 19.9707 63.2026 19.7799 62.2241 19.7799C61.2703 19.7799 60.3964 20.0014 59.6025 20.4445C58.8148 20.8814 58.2179 21.4876 57.8117 22.263C57.4117 23.0384 57.2117 23.9338 57.2117 24.9492C57.2117 26.4262 57.6702 27.5862 58.5871 28.4293C59.5041 29.2724 60.7872 29.694 62.4364 29.694C63.7965 29.694 64.9534 29.5032 65.9073 29.1216V26.6293C65.0888 26.98 64.2211 27.1554 63.3041 27.1554C62.6457 27.1554 62.1164 27.0416 61.7164 26.8139ZM62.2057 22.1615C62.9872 22.1615 63.378 22.7061 63.378 23.7954H60.9964C61.0333 23.303 61.1626 22.9092 61.3841 22.6138C61.6056 22.3122 61.8795 22.1615 62.2057 22.1615Z" fill="url(#paint7_angular_2544_3293)"/>
        <defs>
        <radialGradient id="paint0_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint1_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint2_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint3_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint4_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint5_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint6_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        <radialGradient id="paint7_angular_2544_3293" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(49.0136 17.0939) rotate(158.79) scale(39.1173 34.4436)">
        <stop offset="0.0885417" stop-color="#5200FF"/>
        <stop offset="0.703125" stop-color="#FF007A"/>
        </radialGradient>
        </defs>
    </svg>
</div>