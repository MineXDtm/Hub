<script lang="ts">
    import text from "$lib/hub/editor/elements/text.svelte";
    import { target } from "$lib/hub/editor.js";
    import { onMount, type SvelteComponent } from "svelte/internal";
    export var X = 0;
    export var Y = 0;
    export var dragged = false;
    function is_dragged(event: any) {
        if (dragged) return;
        document.getSelection().removeAllRanges();
        const component = new text({
            target: document.body,
            props: { X: event.clientX, Y: event.clientY, dragged: true },
        });
        target.set("text");
        document.addEventListener("touchend", () => {
            component.$destroy();
            target.set(null);
        });
    }
    function mouse_move(event: TouchEvent) {
        X = event.touches[0].clientX;
        Y = event.touches[0].clientY;
    }
    if (dragged) {
        document.addEventListener("touchmove", mouse_move);
    }
    var clientWidth = 0;
    $: {
        console.log(clientWidth);
    }
</script>

<div
     
    alt=""
    draggable="false"
    on:touchstart={is_dragged}
    class=" transition-transform  bg-white flex justify-center items-center rounded-md {dragged
        ? 'fixed scale-75 shadow-xl pointer-events-none select-none'
        : 'active:scale-125'}"
    style="left: {dragged ? X  -50.5+ 'px' : ''};
        top: {dragged ? Y - 22.5 + 'px' : '0'}; "
>
    <svg xmlns="http://www.w3.org/2000/svg" width="101" height="45" viewBox="0 0 101 45" fill="none">
        <path d="M0.5 5C0.5 2.23858 2.73858 0 5.5 0H95.5C98.2614 0 100.5 2.23858 100.5 5V40C100.5 42.7614 98.2614 45 95.5 45H5.5C2.73858 45 0.5 42.7614 0.5 40V5Z" fill="white"/>
        <path d="M35.7971 18.3048C35.9571 17.4509 36.0372 16.8275 36.0372 16.4345C36.0372 16.034 35.9876 15.7242 35.8885 15.505C35.7971 15.2783 35.6409 15.1008 35.4199 14.9723C35.0388 14.7456 34.3149 14.6322 33.248 14.6322H31.3162V27.7242C31.3162 28.1625 31.3429 28.5063 31.3962 28.7557C31.4495 28.9975 31.5791 29.1826 31.7849 29.3111C31.9906 29.4395 32.2954 29.534 32.6993 29.5945C33.1108 29.6549 33.671 29.7191 34.3797 29.7872V30.7733H26.0351V29.7872C27.384 29.6587 28.1803 29.5151 28.4242 29.3564C28.6756 29.1977 28.8319 28.9975 28.8928 28.7557C28.9614 28.5063 28.9957 28.1625 28.9957 27.7242V14.6322H26.801C25.4293 14.6322 24.4386 15.2972 23.8289 16.6272C23.6384 17.0353 23.4479 17.4736 23.2574 17.9421L23.1202 18.2935H22L23.2803 13.4307H38.0947L36.8945 18.3048H35.7971Z" fill="black"/>
        <path d="M51.1717 29.0844C50.1276 30.3615 48.5616 31 46.4736 31C44.4617 31 42.8881 30.3539 41.7526 29.0617C40.6629 27.8149 40.118 26.1675 40.118 24.1196C40.118 22.0113 40.7238 20.2695 41.9355 18.8942C43.1396 17.534 44.6827 16.8539 46.565 16.8539C48.0053 16.8539 49.1293 17.1562 49.9371 17.7607C50.7068 18.3275 51.0917 19.1058 51.0917 20.0957C51.0917 21.3728 50.4668 22.4496 49.217 23.3262C47.7614 24.3463 45.5591 24.8678 42.6099 24.8904C42.8766 27.9811 44.2865 29.5264 46.8394 29.5264C48.4397 29.5264 49.6666 29.1637 50.5201 28.4383L51.1717 29.0844ZM42.5756 23.6776C45.2886 23.6247 47.1251 22.9861 48.0853 21.762C48.4359 21.3086 48.6111 20.7456 48.6111 20.073C48.6111 19.1965 48.2301 18.5919 47.4681 18.2594C47.1709 18.131 46.8013 18.0668 46.3593 18.0668C45.9173 18.0668 45.5248 18.1461 45.1819 18.3048C44.8389 18.4559 44.5303 18.6675 44.256 18.9395C43.9816 19.204 43.7416 19.5176 43.5358 19.8804C43.3301 20.2355 43.1586 20.6209 43.0214 21.0365C42.7395 21.8904 42.5909 22.7708 42.5756 23.6776Z" fill="black"/>
        <path d="M53.7893 29.8438C54.4676 29.7834 54.8791 29.6965 55.0239 29.5831C55.1763 29.4622 55.2792 29.3262 55.3325 29.1751C55.3935 29.0164 55.4621 28.8123 55.5383 28.563L55.6069 28.3363C56.2241 26.4924 57.5044 24.9509 59.4476 23.7116C57.8397 22.7897 56.7499 21.7695 56.1784 20.6511C55.9879 20.2884 55.8431 19.9332 55.744 19.5856C55.6526 19.238 55.5688 18.9736 55.4925 18.7922C55.424 18.6033 55.3249 18.4559 55.1953 18.3501C55.0125 18.199 54.5438 18.0856 53.7893 18.0101V17.0806H59.802V18.0101C59.0323 18.063 58.5713 18.1423 58.4189 18.2481C58.2664 18.3463 58.1826 18.4446 58.1674 18.5428C58.1598 18.6335 58.1559 18.7393 58.1559 18.8602C58.1559 18.9811 58.1979 19.1927 58.2817 19.495C58.3655 19.7972 58.5103 20.1411 58.7161 20.5264C59.2343 21.4937 59.9392 22.2909 60.8308 22.9181C61.8977 22.2985 62.7245 21.5013 63.3113 20.5264C63.738 19.8237 63.9514 19.272 63.9514 18.8715C63.9514 18.5844 63.8905 18.3992 63.7685 18.3161C63.5551 18.165 63.1093 18.063 62.4311 18.0101V17.0806H67.8151V18.0101C67.1368 18.0856 66.7101 18.1877 66.5348 18.3161C66.3595 18.4446 66.2376 18.5844 66.169 18.7355C66.1004 18.8791 66.0318 19.0567 65.9633 19.2683L65.8832 19.5176C65.586 20.3564 65.2469 21.0139 64.8659 21.4899C64.18 22.3363 63.3113 23.073 62.2596 23.7003C64.3553 24.9471 65.647 26.4924 66.1347 28.3363C66.2871 28.971 66.4319 29.3489 66.5691 29.4698C66.7596 29.6436 67.2168 29.7683 67.9408 29.8438V30.7733H61.9396V29.8438C62.6635 29.7909 63.1055 29.7154 63.2656 29.6171C63.4332 29.5113 63.5285 29.4131 63.5513 29.3224C63.5742 29.2242 63.5856 29.1146 63.5856 28.9937C63.5856 28.8652 63.5475 28.631 63.4713 28.2909C63.3951 27.9509 63.2541 27.5617 63.0484 27.1234C62.5226 26.0202 61.7834 25.1247 60.8308 24.437C59.741 25.1247 58.8761 26.0202 58.236 27.1234C57.7711 27.932 57.5387 28.5516 57.5387 28.9824C57.5387 29.2695 57.6187 29.4547 57.7787 29.5378C58.0683 29.6889 58.6589 29.7909 59.5505 29.8438V30.7733H53.7893V29.8438Z" fill="black"/>
        <path d="M70.0441 29.8325C70.387 29.7569 70.6575 29.6927 70.8557 29.6398C71.0614 29.5793 71.2139 29.4811 71.3129 29.3451C71.4806 29.1259 71.5644 28.5592 71.5644 27.6448V18.4635H69.6097V17.4207C70.7223 17.262 71.3625 17.0995 71.5301 16.9332H71.5187C71.6863 16.7065 71.8349 16.2003 71.9645 15.4144C72.094 14.6285 72.174 14.0504 72.2045 13.6801L73.862 13V17.0806H78V18.4635H73.862V27.6108C73.862 28.3136 73.9115 28.7632 74.0106 28.9597C74.1173 29.1486 74.2468 29.2884 74.3993 29.3791C74.5517 29.4698 74.7574 29.5378 75.0165 29.5831C75.4357 29.6587 76.2015 29.704 77.3141 29.7191V30.7733H70.0441V29.8325Z" fill="black"/>
    </svg>
</div>
